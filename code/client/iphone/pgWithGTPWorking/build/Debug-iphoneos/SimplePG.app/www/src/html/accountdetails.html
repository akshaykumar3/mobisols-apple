<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">	
    <title>Fetching Account Details</title>
	<link rel="stylesheet" href="../../resources/css/sencha-touch.css" type="text/css">
	<script type="text/javascript" src="../../resources/js/sencha-touch.js"></script> 
	
	
	<script type="text/javascript">
	var httprequest=false,url;
	
	if(window.XMLHttpRequest)
	{
		httprequest=new XMLHttpRequest();
		console.log('xml object created');
	}
	else
	{
		console.log('xml object not created');
	}
	
	function getDetails(){
		console.log('button is clicked');
		if(httprequest)
		{
			console.log('inside httprequest');
			var obj=document.getElementById('target');
			url="http://localhost:6001/com.mobisols.tollpayments.mockwebservices/services/AccountDetails";
			httprequest.open("GET",url,true);
			console.log(httprequest.readyState);
			
			httprequest.onreadystatechange=function() {
				console.log('ready state changed');
				if(httprequest.readyState==4 && httprequest.status==200)
				{
					console.log(httprequest.responseText);
				}
			}
			httprequest.send();
		}
	}	
	</script>
	<style type="text/css" media="screen">
	
	</style>
</head>
<body>
	<input type="button" value="click me" width=120 onclick="getDetails()" /> <br />
	<div id="target" ></div>	
</body>
</html>
